@import "../../styles/base/typography";

/* ====================
   Tour Packages (Flex layout for real content)
   ==================== */

.ui-tour {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  padding: 2.25rem 1rem;
  box-sizing: border-box;
  background: $primary-color;

  &__header {
    text-align: center;
    margin: 12px 0 22px;
    width: 100%;
    padding: 0 12px;
  }

  &__title {
    font-size: $font-size-xxl;
    color: $color-white;
    margin-bottom: 8px;
  }

  &__description {
    font-size: $font-size-md;
    color: $color-muted;
    max-width: 820px;
    margin: 0 auto;
  }

  /* FLEX container for real tour cards (no grid) */
  &__packages {
    width: 100%;
    padding: 8px 12px 18px;
    display: flex;
    flex-wrap: wrap;
    max-width: 1500px;
    gap: 18px;
    justify-content: center;
    align-items: stretch;
  }

  /* Card sizing rules using flex-basis for breakpoints (1 / 2 / 4) */
  &__card {
    background: $bg-primary;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(2, 6, 23, 0.08);
    display: flex;
    flex-direction: column;
    width: 100%;
    box-sizing: border-box;
    padding: 0;
  }

  /* control responsive card width: mobile / tablet / desktop */
  /* Default mobile: 1 column (100%) */


  /* Tablet: 2 columns */
  @media (min-width: $breakpoint-mobile) {
 
  }

  /* Desktop: 4 columns */
  @media (min-width: $breakpoint-tablet) {
    .ui-tour__card {
      flex: 0 0 calc(25% - 20px);
      max-width: calc(25% - 20px);
    }
  }

  &__more {
    margin-top: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* ====================
   Preloader / skeleton styles (grid-based — allowed)
   ==================== */

.ui-tour--loading {
  padding: 28px 14px;
  box-sizing: border-box;
  width: 100%;
  background: $bg-primary; /* preloader section white background as requested */

  .ui-tour__header {
    width: 100%;
    margin-bottom: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .ui-tour-preloader__intro {
    display: flex;
    flex-direction: column;
    gap: 8px;
    width: 100%;
    max-width: 760px;

    .sp-line {
      background: $hp-bg;
      border-radius: 10px;
      height: 20px;
      position: relative;
      overflow: hidden;
    }
    .sp-title {
      width: 36%;
      border-radius: 12px;
    }
    .sp-desc {
      width: 72%;
      border-radius: 8px;
      margin-top: 6px;
    }
  }

  .ui-tour-preloader__packages {
    width: 100%;
    max-width: 1200px;
    margin-top: 16px;
    display: grid;
    gap: 12px;
    align-items: start;
    justify-items: center;

    /* mobile: 1 column */
    grid-template-columns: repeat(1, 1fr);
  }

  .sp-card {
    background: transparent;
    border-radius: 12px;
    padding: 12px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    max-width: 320px;
    transition: transform 0.18s ease;
  }

  .sp-card__media {
    width: 100%;
    height: 160px;
    border-radius: 10px;
    background: $hp-bg;
    position: relative;
    overflow: hidden;
  }

  .sp-card__body {
    display: flex;
    flex-direction: column;
    gap: 8px;

    .sp-card-title {
      width: 60%;
      height: 14px;
      border-radius: 8px;
      background: $hp-bg;
      position: relative;
      overflow: hidden;
    }
    .sp-card-sub {
      width: 40%;
      height: 12px;
      border-radius: 8px;
      background: $hp-bg;
      position: relative;
      overflow: hidden;
      margin-top: 6px;
    }

    .sp-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .sp-btn {
      height: 36px;
      border-radius: 8px;
      min-width: 88px;
      background: $hp-bg;
      position: relative;
      overflow: hidden;
    }
    .sp-btn-primary {
      width: 120px;
    }
    .sp-btn-outline {
      width: 90px;
    }
  }

  /* shimmer overlay element */
  .sp-line::after,
  .sp-card__media::after,
  .sp-card-title::after,
  .sp-card-sub::after,
  .sp-btn::after {
    content: "";
    position: absolute;
    left: -150%;
    top: 0;
    height: 100%;
    width: 250%;
    background-image: $hp-shimmer;
    transform: translateX(0);
    animation: service-shimmer 1.2s linear infinite;
  }

  @keyframes service-shimmer {
    0% {
      transform: translateX(-60%);
    }
    100% {
      transform: translateX(60%);
    }
  }
}

/* ====================
   Preloader responsive columns
   (grid only used here)
   ==================== */

/* Tablet: 2 columns */
@media (min-width: $breakpoint-mobile) and (max-width: $tablet-max) {
  .ui-tour {
    &__packages {
      /* ensure flex container behaves */
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      justify-content: center;
      align-items: stretch;
    }

    /* Each card becomes ~50% minus the gap so two fit per row */
    .ui-tour__card {
      box-sizing: border-box;
      flex: 0 0 calc(50% - 18px); /* subtract gap */
      max-width: calc(50% - 18px);
      min-width: 220px; /* optional: prevents cards from getting too narrow */
      display: flex;
      flex-direction: column;
    }

    /* Make sure inner content fills the card height (equal-height cards) */
    .ui-tour__card > * {
      width: 100%;
    }
  }

  /* Slightly smaller media on tablet for preloader */
  .ui-tour--loading .ui-tour-preloader__packages {
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
  }
  .sp-card__media {
    height: 140px;
  }
}

/* Desktop: 4 columns */
@media (min-width: $breakpoint-tablet) {
  .ui-tour--loading .ui-tour-preloader__packages {
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
  .sp-card__media {
    height: 180px;
  }
}

/* ====================
   Small screen polish
   ==================== */
@media (max-width: 420px) {
  .sp-card__media {
    height: 120px;
  }
  .sp-card {
    gap: 10px;
    padding: 10px;
  }
  .ui-tour {
    padding: 18px 12px;
  }
}


@media (min-width: 1024px) and (max-width: 1499px) {
  .ui-tour {
    &__packages {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      justify-content: center;
      align-items: stretch;
    }

    .ui-tour__card {
      box-sizing: border-box;
      flex: 0 0 calc(33.333% - 18px); /* 3 columns */
      max-width: calc(33.333% - 18px);
      min-width: 260px; /* optional safeguard */
      display: flex;
      flex-direction: column;
    }
  }

  /* Preloader: 3 columns too */
  .ui-tour--loading .ui-tour-preloader__packages {
    grid-template-columns: repeat(3, 1fr);
    gap: 18px;
  }
  .sp-card__media {
    height: 160px;
  }
}

/* Large Desktop: ≥1500px, show 4 columns */
@media (min-width: 1500px) {
  .ui-tour {
    .ui-tour__card {
      flex: 0 0 calc(25% - 20px);
      max-width: calc(25% - 20px);
    }
  }

  .ui-tour--loading .ui-tour-preloader__packages {
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
  .sp-card__media {
    height: 180px;
  }
}
